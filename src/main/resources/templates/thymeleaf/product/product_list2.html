<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <head>
        <title>Product</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <link rel="stylesheet" href="/assets/css/main.css" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
        <script src="/assets/js/jquery.min.js"></script>
        <script src="/assets/js/jquery.dropotron.min.js"></script>
        <script src="/assets/js/browser.min.js"></script>
        <script src="/assets/js/breakpoints.min.js"></script>
        <script src="/assets/js/util.js"></script>
        <script src="/assets/js/main.js"></script>
        <script>
            function renderPagination(currentPage) {

                $.ajax({
                    url : '/product/pagination',
                    type : 'get',
                    dataType : 'json',
                    contentType : 'application/json;charset=UTF-8',
                    data : {'pageNo' : currentPage} ,
                    success : function (success){
                        console.log(success);
                        console.log(success.empty);
                        console.log(success.totalPages);
                        console.log(success.totalElements);
                        console.log(success.number);

                        for(let i = 0 ; i <5 ; i ++){
                            console.log(success.content[i].seq);
                            console.log(success.content[i].title);
                            console.log(success.content[i].desc);
                            console.log(success.content[i].image);
                        }
                        // 현재 게시물의 전체 개수가 20개 이하면 pagination을 숨깁니다.
                        // if (_totalCount <= 20) return;
                        //
                        // var totalPage = Math.ceil(_totalCount / 20);
                        // var pageGroup = Math.ceil(currentPage / 10);
                        //
                        // var last = pageGroup * 10;
                        // if (last > totalPage) last = totalPage;
                        // var first = last - (10 - 1) <= 0 ? 1 : last - (10 - 1);
                        //
                        // const fragmentPage = document.createDocumentFragment();
                        // if (prev > 0) {
                        //     var allpreli = document.createElement('li');
                        //     allpreli.insertAdjacentHTML("beforeend", `<a href='#js-bottom' id='allprev'>&lt;&lt;</a>`);
                        //
                        //     var preli = document.createElement('li');
                        //     preli.insertAdjacentHTML("beforeend", `<a href='#js-ottom' id='prev'>&lt;</a>`);
                        //
                        //     fragmentPage.appendChild(allpreli);
                        //     fragmentPage.appendChild(preli);
                        // }
                        //
                        // for (var i = first; i <= last; i++) {
                        //     const li = document.createElement("li");
                        //     li.insertAdjacentHTML("beforeend", `<a href='#js-bottom' id='page-${i}' data-num='${i}'>${i}</a>`);
                        //     fragmentPage.appendChild(li);
                        // }
                        //
                        // if (last < totalPage) {
                        //     var allendli = document.createElement('li');
                        //     allendli.insertAdjacentHTML("beforeend", `<a href='#js-bottom'  id='allnext'>&gt;&gt;</a>`);
                        //
                        //     var endli = document.createElement('li');
                        //     endli.insertAdjacentHTML("beforeend", `<a  href='#js-bottom'  id='next'>&gt;</a>`);
                        //
                        //     fragmentPage.appendChild(endli);
                        //     fragmentPage.appendChild(allendli);
                        // }
                        //
                        // document.getElementById('js-pagination').appendChild(fragmentPage);


                    },
                    error: function (data, status, err) {

                    }
                });



                // 페이지 목록 생성
            }
        </script>
    </head>
</head>
<body class="is-preload homepage">
    <div id="page-wrapper">

		
        <div id="header-wrapper">
            <header id="header" class="container">

                <!-- Logo -->
                <div id="logo">
                    <h1><a href="/main">Jbground</a></h1>
                    <span>by HTML5 UP</span>
                </div>

                <!-- Nav -->
                <nav id="nav">
                    <ul>
                        <li class="current"><a href="index.html">Welcome</a></li>
                        <li>
                            <a href="/product/list">Product</a>
                            <ul>
                                <li><a href="#">Lorem ipsum dolor</a></li>
                                <li><a href="#">Magna phasellus</a></li>
                                <li>
                                    <a href="#">Phasellus consequat</a>
                                    <ul>
                                        <li><a href="#">Lorem ipsum dolor</a></li>
                                        <li><a href="#">Phasellus consequat</a></li>
                                        <li><a href="#">Magna phasellus</a></li>
                                        <li><a href="#">Etiam dolore nisl</a></li>
                                    </ul>
                                </li>
                                <li><a href="#">Veroeros feugiat</a></li>
                            </ul>
                        </li>
                        <li><a href="left-sidebar.html">Left Sidebar</a></li>
                        <li><a href="right-sidebar.html">Right Sidebar</a></li>
                        <li><a href="no-sidebar.html">No Sidebar</a></li>
                    </ul>
                </nav>

            </header>
        </div>
    </div>
	
    <div id="features-wrapper">
        <div class="container">
            <div class="row">
                <div class="col-4 col-12-medium">
                    <!-- Box -->
                    <section class="box feature">
                        <a href="#" class="image featured"><img src="/images/sample.png" alt="" /></a>
                        <div class="inner">
                            <header>
                                <h2>상품1</h2>
                                <p>상품설명</p>
                            </header>
                            <p>가격 : 40,000원</p>
                            <p>수량 : 4</p>
                        </div>
                    </section>
                </div>
                <div class="col-4 col-12-medium">

                    <!-- Box -->
                    <section class="box feature">
                        <a href="#" class="image featured"><img src="/images/sample.png" alt="" /></a>
                        <div class="inner">
                            <header>
                                <h2>상품2</h2>
                                <p>상품설명</p>
                            </header>
                            <p>가격 : 40,000원</p>
                            <p>수량 : 4</p>
                        </div>
                    </section>

                </div>
                <div class="col-4 col-12-medium">

                    <!-- Box -->
                    <section class="box feature">
                        <a href="#" class="image featured"><img src="/images/sample.png" alt="" /></a>
                        <div class="inner">
                            <header>
                                <h2>상품3</h2>
                                <p>상품설명</p>
                            </header>
                            <p>가격 : 40,000원</p>
                            <p>수량 : 4</p>
                        </div>
                    </section>

                </div>
                <div class="col-4 col-12-medium">

                    <!-- Box -->
                    <section class="box feature">
                        <a href="#" class="image featured"><img src="/images/sample.png" alt="" /></a>
                        <div class="inner">
                            <header>
                                <h2>상품4</h2>
                                <p>상품설명</p>
                            </header>
                            <p>가격 : 40,000원</p>
                            <p>수량 : 4</p>
                        </div>
                    </section>

                </div>
            </div>
        </div>
        <button onclick="renderPagination(1)"></button>
        <div id="pagination"></div>
    </div>

</body>
</html>